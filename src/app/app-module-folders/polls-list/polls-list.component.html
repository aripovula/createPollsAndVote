<div style="margin-left: 50px;">
  <h2>Vote and see poll results</h2>
  <div *ngIf="polls">
    <p *ngIf="polls.length === 0">( No polls are found )</p>
    <p *ngIf="polls.length > 0" style="color: gray">( to vote click the respective poll name )</p>
    <ul *ngIf="polls.length > 0">
      <li *ngFor="let poll of polls | reversePollsOrder; let ind=index;">
        <a routerLink="/vote/{{poll.id}}" class="addnlightbg">{{poll.name}}</a>
        <br/>
        <a routerLink="/viewquestions/{{poll.id}}" class="noDecor">view questions</a>
        <span style="color: lightslategray; font-size: 14px;"> ( {{questions | countQuestions: poll.id}} )</span>
        <span class="horIndent"></span>
        <a (click)="onClonePollClicked(poll.id)" class="noDecor">clone</a>
        <span class="horIndent"></span>
        <span style="color: lightslategray; font-size: 14px;">added: {{poll.createdTimeStamp | date:'MMM dd, yy'}}</span>
        <span class="horIndent"></span>
        <span style="color: lightslategray; font-size: 14px;">expires: {{poll.expiresTimeStamp | date:'MMM dd, yy @ hh:mm'}}</span>
        <span *ngIf="poll.createdBy == currentUserID">
          <span class="horIndent"></span>
          <a routerLink="/editpoll/{{poll.id}}" class="noDecor">edit</a>
          <span class="horIndent"></span>
          <a (click)="onDeletePollClicked(poll.id)" class="noDecor">delete</a>
          <span class="horIndent"></span>
          <span *ngIf="!poll.isPublished">
            <a (click)="onPublishClicked(poll.id, 1)" class="noDecor">publish your poll</a>
          </span>
          <span *ngIf="poll.isPublished">
            <a (click)="onPublishClicked(poll.id, 0)" class="noDecor">un-publish your poll</a>
          </span>
        </span>
        <span *ngIf="!(poll.createdBy == currentUserID)">
            <span class="horIndent"></span>
            <span style="color: lightslategray; font-size: 14px;">added by &nbsp; {{poll.createdByUsername | maskUsername}}</span>
        </span>

        <span class="verIndent"></span>
      </li>
    </ul>
    <br/>
    <span style="color: lightslategray; font-size: 14px;">* clone also copies all associated questions</span>
  </div>

  <div *ngIf="isModalDisplayed">
    <form>
      <div id="myModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close" (click)="onDeleteCancel()">&times;</span>
            <p>Please confirm</p>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this poll and all associated questions ?</p>
            <p>- '{{pollNameToDelete}}'</p>
            <br/>
            <p>
              <span style='color: red;'>
                <strong>Warning:</strong>
              </span> all questions associated with this poll will be permanently deleted</p>
            <br/>
            <button type="button" class="button button1" (click)="onDeleteConfirm()">Confirm</button>
            <button type="button" class="button button1" (click)="onDeleteCancel()">Cancel</button>
            <br/>
            <br/>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>